<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In Form</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/6f99fdf9cb.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
</head>

<body>
    <!-- Sign In Form -->

    <div class="container">
        <div class="form-box">
            <h1 id="title">Sign In</h1>
            <form id="signInForm">

                <!-- Email -->
                <div class="input-field">
                    <i class="fa-solid fa-envelope"></i>
                    <input type="email" placeholder="Email" id="email">
                </div>
                <!-- Password -->
                <div class="input-field">
                    <i class="fa-solid fa-lock"></i>
                    <input type="password" placeholder="Password" id="psw">
                </div>
                <div class="btn-field">
                    <!-- <button type="button"  id="signupBtn">Sign Up</button> -->
                    <!-- Your sign-in page content -->
                    <div><a href="signup.html">Don't have an account? Sign Up</a></div>

                    <button type="button" style="padding-bottom: 40px;" onclick="saveData()" id="signinBtn"
                        class="disable">Sign In</button>
                </div>
        </div>
        </form>
    </div>

    </div>
    </div>
    <!-- Javascsript to link signin and signup-->
    <script>
        let signupBtn = document.getElementById("signupBtn");
        let signinBtn = document.getElementById("signinBtn");
        let nameField = document.getElementById("nameField");
        let title = document.getElementById("title");
        //  function to store data in localStorage
        function saveData() {
            let email, psw;
            //   name=document.getElementById("name").value;
            email = document.getElementById("email").value;
            psw = document.getElementById("psw").value;
            // store data in form of object
            let user_records = new Array();
            user_records = JSON.parse(localStorage.getItem("users")) ? JSON.parse(localStorage.getItem("users")) : []
            if (user_records.some((v) => { return v.email == email && v.psw == psw })) {
                alert("Login Pass");
                // to show name of user with profile whose email is entered
                let current_user = user_records.filter((v) => { return v.email == email && v.psw == psw })[0]
                localStorage.setItem('name', current_user.name);
                localStorage.setItem('email', current_user.email);
                window.location.href = "nextpage.html"
            }
            else {
                alert(' Invaid Email or Password.Login Fail!');
            }
        }


    </script>

</body>

</html>